---
title: "Trabalho Final - Esboço"
output: html_document
date: "2025-11-12"
---

# Trabalho Final

### Acesso aos dados

```{r}

require(tidyverse)
require(tidytuesdayR)


all_recipes <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-09-16/all_recipes.csv')

cuisines <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2025/2025-09-16/cuisines.csv')

```


## Análise Exploratória

#### Ocorrência de cada país

```{r}

str(cuisines)
str(all_recipes)
summary(all_recipes)
summary(cuisines)

freq_culinarias = cuisines %>%
  group_by(country) %>%
  summarise(frequencia = n()) %>%
  arrange(desc(frequencia))

```

#### Relacionando *country* com *avg_ratings*

```{r}

raintg_per_country = cuisines %>%
  group_by(country) %>%
  summarise(
    media_ratings = mean(avg_rating, na.rm = TRUE),
    frequencia = n()
  ) %>% 
  arrange(desc(media_ratings))

summary(raintg_per_country)

```

#### Relacionando *country* com *servings*

```{r}
servings_per_country = cuisines %>%
  group_by(country) %>%
  summarise(
    media_servings = mean(servings, na.rm = TRUE),
    frequencia = n()
  ) %>% 
  arrange(desc(media_servings))

summary(servings_per_country)

```


## Visualização das Análises


```{r}
plot_rating_frequencia <- raintg_per_country %>%
  # Remove NAs gerados quando não há nenhuma avaliação para o país
  filter(!is.na(media_ratings)) %>% 
  
  ggplot(aes(x = media_ratings, y = frequencia, size = frequencia, color = country)) +
  geom_point(alpha = 0.6) +
  scale_y_log10() + # Escala logarítmica para o Y, pois a frequência varia muito
  labs(
    title = "Média de Avaliação vs. Frequência de Receitas por País",
    x = "Média de Avaliação (avg_rating)",
    y = "Frequência de Receitas (Escala Log)",
    caption = "O tamanho da bolha reflete a frequência."
  ) +
  theme_minimal() +
  theme(legend.position = "none") # Remove a legenda

print(plot_rating_frequencia)
```

